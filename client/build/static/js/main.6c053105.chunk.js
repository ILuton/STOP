(this["webpackJsonpmern-client"]=this["webpackJsonpmern-client"]||[]).push([[0],{43:function(e,t,n){},72:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){"use strict";n.r(t);var r,a,i,c,o,l,s,d,u=n(3),b=n.n(u),j=n(56),p=n.n(j),m=(n(72),n(5)),h=n(9),y=n(6),g=n(61),O=n(91),x=n(93),f=n(90),v=n(59),S=n.p+"static/media/logo.4fa25803.png",C=n(57),k=n(58),w=n(44),I=n.n(w),N=new(function(){function e(){Object(C.a)(this,e)}return Object(k.a)(e,[{key:"getProfile",value:function(){return I()(this.getToken())}},{key:"loggedIn",value:function(){var e=this.getToken();return!!e&&!this.isTokenExpired(e)}},{key:"isTokenExpired",value:function(e){try{return I()(e).exp<Date.now()/1e3}catch(t){return!1}}},{key:"getToken",value:function(){return localStorage.getItem("id_token")}},{key:"login",value:function(e){localStorage.setItem("id_token",e),window.location.assign("/")}},{key:"logout",value:function(){localStorage.removeItem("id_token"),window.location.assign("/")}}]),e}()),_=(n(75),n(76),n(1)),D=function(){var e={mainContainerStyle:{height:"15vh",display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:".2rem solid black",fontFamily:"Tiro Gurmukhi, serif",fontSize:"1.2rem",textAlign:"center",backgroundColor:"#a9a99f"},imgContainerStyle:{height:"100%",width:"33%",display:"flex",alignItems:"center"},imgStyle:{width:"16rem",height:"5rem",borderRadius:"10px"},titleContainerStyle:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"33%",color:"#f7e109"},linksContainerStyle:{height:"100%",display:"flex",justifyContent:"flex-end",alignItems:"flex-end",width:"33%"},linksStyle:{margin:".5rem",padding:"3px 9px",borderRadius:"6px",fontSize:"16px",textTransform:"uppercase",fontWeight:"500"},loginStyle:{margin:".5rem"},header3:{fontSize:"18px",textAlign:"center"}};return Object(_.jsxs)("div",{className:"navMobile",style:e.mainContainerStyle,children:[Object(_.jsx)("div",{className:"navlinkMobile",style:e.imgContainerStyle}),Object(_.jsxs)("div",{className:"navlinkMobile",style:e.titleContainerStyle,children:[Object(_.jsx)("img",{style:e.imgStyle,src:S,alt:"Virus Cell Molecule with STOP to the right"}),Object(_.jsx)("p",{className:"titleDesMobile",children:"Support The Obliteration of Pandemics"})]}),Object(_.jsxs)("div",{className:"navlinkMobile",style:e.linksContainerStyle,children:[Object(_.jsx)(h.b,{to:"/",style:e.linksStyle,children:"Home"}),function(){if(N.loggedIn())return Object(_.jsx)(h.b,{to:"/profile",style:e.linksStyle,children:"Profile"})}(),N.loggedIn()?Object(_.jsx)(h.b,{to:"/",style:e.linksStyle,onClick:function(){return N.logout()},children:"Logout"}):Object(_.jsxs)("div",{style:e.linksStyle,children:[Object(_.jsx)(h.b,{style:e.linksStyle,to:"/login",children:"Login"}),Object(_.jsx)(h.b,{style:e.linksStyle,to:"/signup",children:"Signup"})]})]})]})},R=n(13),T=n(22),A=n(14),M=n(63),$=(n(43),n.p+"static/media/virus-gab3ed1248_1920.f900d280.jpg"),P=n(16),E=n(92),z=(Object(E.a)(r||(r=Object(P.a)(["\n  query Query {\n    categories {\n      _id\n      name\n      projects {\n        _id\n        name\n        description\n        image\n      }\n    }\n  }\n"]))),Object(E.a)(a||(a=Object(P.a)(["\n  query Projects {\n    projects {\n      _id\n      name\n      description\n      image\n    }\n  }\n"])))),F=(Object(E.a)(i||(i=Object(P.a)(["\n  query Query($id: ID!) {\n    category(_id: $id) {\n      _id\n      name\n      projects {\n        _id\n        name\n        description\n        image\n      }\n    }\n  }\n"]))),Object(E.a)(c||(c=Object(P.a)(["\n  query SingleProject($id: ID!) {\n    project(_id: $id) {\n      _id\n      name\n      description\n      image\n      product {\n        _id\n        name\n        price\n      }\n    }\n  }\n"])))),Q=(Object(E.a)(o||(o=Object(P.a)(["\n  query Query($id: ID!) {\n    product(_id: $id) {\n      _id\n      name\n      price\n    }\n  }\n"]))),Object(E.a)(l||(l=Object(P.a)(["\n  query Query {\n    users {\n      _id\n      firstName\n      lastName\n      email\n      dollarsDonated\n      projectsFunded {\n        _id\n      }\n      orders {\n        _id\n      }\n    }\n  }\n"]))),Object(E.a)(s||(s=Object(P.a)(["\n  {\n    user {\n      firstName\n      lastName\n      orders {\n        _id\n        purchaseDate\n        product {\n          _id\n          name\n          price\n        }\n      }\n    }\n  }\n"])))),L=Object(E.a)(d||(d=Object(P.a)(["\n  query Checkout($product: [ID]!) {\n    checkout(product: $product) {\n      session\n    }\n  }\n"]))),U=function(){var e,t=Object(M.b)(Q).data;t&&(e=t.user);var n={mainContainerStyle:{height:"85vh",display:"flex",justifyContent:"space-between",alignItems:"center"},infoContainerStyle:{height:"80%",width:"50%",display:"flex",flexDirection:"column"},transactionContainerStyle:Object(A.a)({height:"60%",width:"50%",border:".1rem solid black",marginLeft:".8rem",backgroundColor:"white",borderRadius:"75px",overflow:"auto"},"backgroundColor","rgb(169,169,159, 0.9)"),petriDishContainerStyle:Object(A.a)({height:"65%",width:"100%",border:".1rem solid black",marginTop:".5rem",display:"flex",flexDirection:"column",alignItems:"center",borderRadius:"75px",overflow:"auto",backgroundColor:"white",textAlign:"center"},"backgroundColor","rgb(169,169,159, 0.9)"),personalInfoContainerStyle:Object(A.a)({height:"30%",width:"100%",border:".1rem solid black",backgroundColor:"white",borderRadius:"75px"},"backgroundColor","rgb(169,169,159, 0.9)"),sectionTitleStyle:{textAlign:"center",textDecoration:"underline",marginBottom:"1rem"},peronalItemContainerStyle:{display:"flex",justifyContent:"space-between",alignItems:"center",height:"25%",overflow:"auto"},personalInfoItemsStyle:{fontSize:"1.2rem",margin:"1.5rem",textDecoration:"underline",textUnderlineOffset:".1rem"},updateButtonStyle:{margin:"1rem",padding:"3px 9px",borderRadius:"6px",border:"1px ",fontSize:"14px",fontWeight:"400"},amoebaContainerStyle:{display:"flex",flexWrap:"wrap",height:"70%",marginTop:"1rem",fontSize:"2.5rem"},tableStyles:{height:"90%",width:"100%",marginTop:"1rem"},tableRowStyle:{display:"flex",justifyContent:"space-around",marginTop:"1rem"},tableHeaderStyle:{fontSize:"1.3rem",textDecoration:"underline",textUnderlineOffset:".1rem"},redeemStyle:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},donationAmountStyle:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",overflow:"auto"},donationNameContainer:{display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"center",padding:"20px",overflow:"auto"}},r=0,a=function(){var t=Object(T.a)(Object(R.a)().mark((function t(){var n,a,i,c,o,l,s;return Object(R.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(n=[],a=[],i=e.orders,c=0;c<i.length;c++)n.push(i[c].product);for(o=0;o<n.length;o++)for(l=0;l<n[o].length;l++)a.push(n[o][l].price);for(s=0;s<a.length;s++)r+=a[s];return t.abrupt("return",r);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),i=0;t&&(a(),i=r/10);var c=0,o=0,l=0,s=0,d=0,u=0,b=0,j=function(){var t=Object(T.a)(Object(R.a)().mark((function t(){var n,r,a,i,j,p;return Object(R.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(n=[],r=[],a=e.orders,i=0;i<a.length;i++)n.push(a[i].product);for(j=0;j<n.length;j++)for(p=0;p<n[j].length;p++)r.push(n[j][p].name);return r.includes("Friend")&&(c+=1),r.includes("Champion")&&(l+=1),r.includes("Supporter")&&(o+=1),r.includes("Advocate")&&(s+=1),r.includes("Ally")&&(d+=1),r.includes("Defender")&&(u+=1),r.includes("Benefactor")&&(b+=1),t.abrupt("return",s);case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return t&&j(),Object(_.jsx)("div",{style:{backgroundImage:"url(".concat($,")"),backgroundRepeat:"no-repeat",backgroundSize:"cover",position:"fixed",minWidth:"100%",minHeight:"100%"},children:Object(_.jsxs)("div",{className:"profileMobile",style:n.mainContainerStyle,children:[Object(_.jsxs)("div",{className:"infoMobile",style:n.infoContainerStyle,children:[Object(_.jsxs)("div",{className:"personalMobile",style:n.personalInfoContainerStyle,children:[Object(_.jsx)("h1",{style:n.sectionTitleStyle,children:"Personal Information"}),Object(_.jsxs)("div",{className:"personalContainerMobile",style:n.peronalItemContainerStyle,children:[Object(_.jsx)("p",{style:n.personalInfoItemsStyle,children:"Email:"}),Object(_.jsx)("p",{children:N.getProfile().data.email}),Object(_.jsx)("button",{style:n.updateButtonStyle})]}),Object(_.jsxs)("div",{style:n.peronalItemContainerStyle,children:[Object(_.jsx)("p",{style:n.personalInfoItemsStyle,children:"Password:"}),Object(_.jsx)("p",{children:"************"}),Object(_.jsx)("button",{style:n.updateButtonStyle})]})]}),Object(_.jsxs)("div",{className:"petriContainerMobile",style:n.petriDishContainerStyle,children:[Object(_.jsx)("h1",{style:n.sectionTitleStyle,children:"Petri Dish"}),Object(_.jsx)("div",{style:n.amoebaContainerStyle,children:Object(_.jsx)("p",{children:Array(i).fill("\ud83e\udda0")})}),Object(_.jsxs)("div",{style:n.redeemStyle,children:[Object(_.jsxs)("p",{children:["Amoeba Count: ",i]}),Object(_.jsx)("button",{style:n.updateButtonStyle,children:"redeem"}),Object(_.jsx)("p",{children:"*redeem 100 amoeba for a free plushie"}),Object(_.jsx)("p",{children:"*Earn 1 amoeba for every $10 donated!"})]})]})]}),Object(_.jsxs)("div",{className:"transContainerMobile",style:n.transactionContainerStyle,children:[Object(_.jsx)("h1",{style:n.sectionTitleStyle,children:"Donation Milestones!"}),Object(_.jsxs)("div",{style:n.donationNameContainer,children:[Object(_.jsx)("p",{style:Object(m.a)({width:"150px",height:"150px",borderRadius:"50%",alignItems:"center",textAlign:"center",display:"flex",justifyContent:"center",border:"1px black solid"},1==c?{backgroundColor:"var(--dark-02)"}:{backgroundColor:"white",opacity:"50%"}),children:"Friend!"}),Object(_.jsx)("p",{style:Object(m.a)({width:"150px",height:"150px",borderRadius:"50%",alignItems:"center",textAlign:"center",display:"flex",justifyContent:"center",border:"1px black solid"},1==o?{backgroundColor:"var(--dark-02)"}:{backgroundColor:"white",opacity:"50%"}),children:"Supporter!"}),Object(_.jsx)("p",{style:Object(m.a)({width:"150px",height:"150px",borderRadius:"50%",alignItems:"center",textAlign:"center",display:"flex",justifyContent:"center",border:"1px black solid"},1==l?{backgroundColor:"var(--dark-02)"}:{backgroundColor:"white",opacity:"50%"}),children:"Champion!"}),Object(_.jsx)("p",{style:Object(m.a)({width:"150px",height:"150px",borderRadius:"50%",alignItems:"center",textAlign:"center",display:"flex",justifyContent:"center",border:"1px black solid"},1==s?{backgroundColor:"var(--dark-02)"}:{backgroundColor:"white",opacity:"50%"}),children:"Advocate!"}),Object(_.jsx)("p",{style:Object(m.a)({width:"150px",height:"150px",borderRadius:"50%",alignItems:"center",textAlign:"center",display:"flex",justifyContent:"center",border:"1px black solid"},1==d?{backgroundColor:"var(--dark-02)"}:{backgroundColor:"white",opacity:"50%"}),children:"Ally!"}),Object(_.jsx)("p",{style:Object(m.a)({width:"150px",height:"150px",borderRadius:"50%",alignItems:"center",textAlign:"center",display:"flex",justifyContent:"center",border:"1px black solid"},1==u?{backgroundColor:"var(--dark-02)"}:{backgroundColor:"white",opacity:"50%"}),children:"Defender!"}),Object(_.jsx)("p",{style:Object(m.a)({width:"150px",height:"150px",borderRadius:"50%",alignItems:"center",textAlign:"center",display:"flex",justifyContent:"center",border:"1px black solid"},1==b?{backgroundColor:"var(--dark-02)"}:{backgroundColor:"white",opacity:"50%"}),children:"Benefactor!"})]}),e?Object(_.jsx)("div",{style:n.donationAmountStyle,children:Object(_.jsxs)("h2",{children:["Total Amount Donated: $",r]})}):null]})]})})},B=function(){var e=Object(M.b)(z),t=(e.loading,e.data),n=(null===t||void 0===t?void 0:t.projects)||[];function r(e){return N.loggedIn()?Object(_.jsx)(h.b,{style:a.linkStyle,to:"/projectPage/".concat(e._id),children:"View Project"}):Object(_.jsx)(h.b,{style:a.linkStyle,to:"/login",children:"Login to View Project"})}var a={mainContainerStyle:{display:"flex",justifyContent:"center",alignItems:"center",flexWrap:"wrap",textAlign:"center"},projectStyle:Object(A.a)({height:"350px",width:"600px",minWidth:"300px",display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center",margin:"1rem",border:".1rem solid black",borderRadius:".3rem",backgroundColor:"#FFFFFF"},"backgroundColor","rgb(169,169,159, 0.9)"),imageStyle:{marginTop:"1.2rem",width:"35%",height:"35%",borderRadius:".5rem"},linkStyle:{margin:".5rem",padding:"3px 9px",borderRadius:"6px",fontSize:"16px",textTransform:"uppercase",fontWeight:"400"},header2:{padding:"12px"},paragraph:{padding:"2px",marginBottom:"2px"}};return Object(_.jsx)("div",{style:{backgroundImage:"url(".concat($,")"),backgroundSize:"cover"},children:Object(_.jsx)("div",{style:a.mainContainerStyle,children:n&&n.map((function(e){return Object(_.jsxs)("div",{className:"homepageBoxs",style:a.projectStyle,children:[Object(_.jsx)("h2",{children:e.name}),Object(_.jsx)("img",{className:"imgMobile",style:a.imageStyle,src:e.image}),Object(_.jsx)("p",{className:"projectDescription",children:e.description}),r(e)]},e._id)}))})})},W=function(){var e,t=(e={mainContainerStyle:{minHeight:"85vh",display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center",textAlign:"center"},projectConatiner:{backgroundColor:"rgb(169,169,159, 0.9)",width:"70%",height:"70%",borderRadius:"2rem",padding:"1rem"},imgStyle:{width:"20%",borderRadius:".5rem"},descriptionStyle:{width:"50%",height:"35%"}},Object(A.a)(e,"descriptionStyle",Object(A.a)({fontSize:"18px",padding:"5px",margin:"",backgroundColor:"#429786",borderStyle:"double",borderRadius:".5rem"},"margin","1em 1em 1em")),Object(A.a)(e,"nameStyle",{fontSize:"28px",fontWeight:"bolder",padding:"5px",margin:".5em 4em 1em",backgroundColor:"#429786",borderStyle:"double",borderRadius:".5rem"}),e),n=Object(y.g)().projectId,r=Object(M.b)(F,{variables:{id:n}}),a=r.loading,i=r.data,c=(null===i||void 0===i?void 0:i.project)||{};return a?Object(_.jsx)("div",{children:"Loading..."}):Object(_.jsx)("div",{style:{backgroundImage:"url(".concat($,")"),backgroundRepeat:"no-repeat",backgroundSize:"cover"},children:Object(_.jsx)("div",{style:t.mainContainerStyle,children:Object(_.jsxs)("div",{style:t.projectConatiner,children:[Object(_.jsx)("div",{children:Object(_.jsx)("h1",{className:"projectTitleMobile",style:t.nameStyle,children:c.name})}),Object(_.jsx)("img",{className:"imgMobile",style:t.imgStyle,src:c.image}),Object(_.jsx)("p",{className:"singleDescription",style:t.descriptionStyle,children:c.description}),Object(_.jsx)(h.b,{to:"/donate/".concat(c._id),children:"Donate"})]})})})},q=n(41),Y=n(26),H=n(10),V=n(87);function G(e,t,n){return new Promise((function(r,a){var i,c,o,l=window.indexedDB.open("stop",1);l.onupgradeneeded=function(e){var t=l.result;t.createObjectStore("products",{keyPath:"_id"}),t.createObjectStore("projects",{keyPath:"_id"}),t.createObjectStore("categories",{keyPath:"_id"}),t.createObjectStore("cart",{keyPath:"_id"})},l.onerror=function(e){console.log("There was an error")},l.onsuccess=function(a){switch(i=l.result,c=i.transaction(e,"readwrite"),o=c.objectStore(e),i.onerror=function(e){console.log("error",e)},t){case"put":o.put(n),r(n);break;case"get":var s=o.getAll();s.onsuccess=function(){r(s.result)};break;case"delete":o.delete(n._id);break;default:console.log("No valid method")}c.oncomplete=function(){i.close()}}}))}var Z=n(62),J="UPDATE_PRODUCTS",X="ADD_TO_CART",K="ADD_MULTIPLE_TO_CART",ee="REMOVE_FROM_CART",te="UPDATE_CART_QUANTITY",ne="TOGGLE_CART",re=function(e,t){switch(t.type){case J:return Object(m.a)(Object(m.a)({},e),{},{products:Object(Y.a)(t.products)});case X:return Object(m.a)(Object(m.a)({},e),{},{cartOpen:!0,cart:[].concat(Object(Y.a)(e.cart),[t.product])});case K:return Object(m.a)(Object(m.a)({},e),{},{cart:[].concat(Object(Y.a)(e.cart),Object(Y.a)(t.products))});case te:return Object(m.a)(Object(m.a)({},e),{},{cartOpen:!0,cart:e.cart.map((function(e){return t._id===e._id&&(e.purchaseQuantity=t.purchaseQuantity),e}))});case ee:var n=e.cart.filter((function(e){return e._id!==t._id}));return Object(m.a)(Object(m.a)({},e),{},{cartOpen:n.length>0,cart:n});case"CLEAR_CART":return Object(m.a)(Object(m.a)({},e),{},{cartOpen:!1,cart:[]});case ne:return Object(m.a)(Object(m.a)({},e),{},{cartOpen:!e.cartOpen});case"UPDATE_CATEGORIES":return Object(m.a)(Object(m.a)({},e),{},{categories:Object(Y.a)(t.categories)});case"UPDATE_CURRENT_CATEGORY":return Object(m.a)(Object(m.a)({},e),{},{currentCategory:t.currentCategory});default:return e}};var ae=["value"],ie=Object(u.createContext)(),ce=ie.Provider,oe=function(e){e.value;var t,n=Object(Z.a)(e,ae),r=(t={products:[],cart:[],cartOpen:!1,categories:[],currentCategory:""},Object(u.useReducer)(re,t)),a=Object(H.a)(r,2),i=a[0],c=a[1];return Object(_.jsx)(ce,Object(m.a)({value:[i,c]},n))},le=function(){return Object(u.useContext)(ie)},se=function(e){var t=e.item,n=le(),r=Object(H.a)(n,2)[1];return Object(_.jsxs)("div",{className:"flex-row",children:[Object(_.jsx)("div",{children:Object(_.jsx)("img",{src:"/images/".concat(t.image),alt:""})}),Object(_.jsxs)("div",{children:[Object(_.jsxs)("div",{children:[t.name,", $",t.price]}),Object(_.jsxs)("div",{children:[Object(_.jsx)("span",{children:"Qty:"}),Object(_.jsx)("input",{type:"number",placeholder:"1",value:t.purchaseQuantity,onChange:function(e){var n=e.target.value;"0"===n?(r({type:ee,_id:t._id}),G("cart","delete",Object(m.a)({},t))):(r({type:te,_id:t._id,purchaseQuantity:parseInt(n)}),G("cart","put",Object(m.a)(Object(m.a)({},t),{},{purchaseQuantity:parseInt(n)})))}}),Object(_.jsx)("span",{role:"img","aria-label":"trash",onClick:function(){return function(e){r({type:ee,_id:e._id}),G("cart","delete",Object(m.a)({},e))}(t)},children:"\ud83d\uddd1\ufe0f"})]})]})]})},de=(n(79),n.p+"static/media/virusOne.4be5d25b.png"),ue=Object(q.a)("pk_test_51LUk67BmDPcsQPR8Uei5YbDU5RDDLYctfqI2q3IroOcoXo7SurRZi9ED1s7CZY2h4hak9SfVxhjEgDygTyOIkdPd00CYMi1bHt"),be=function(){var e=le(),t=Object(H.a)(e,2),n=t[0],r=t[1],a=Object(V.a)(L),i=Object(H.a)(a,2),c=i[0],o=i[1].data;function l(){r({type:ne})}return Object(u.useEffect)((function(){o&&ue.then((function(e){e.redirectToCheckout({sessionId:o.checkout.session})}))}),[o]),Object(u.useEffect)((function(){function e(){return(e=Object(T.a)(Object(R.a)().mark((function e(){var t;return Object(R.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G("cart","get");case 2:t=e.sent,r({type:K,products:Object(Y.a)(t)});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n.cart.length||function(){e.apply(this,arguments)}()}),[n.cart.length,r]),n.cartOpen?Object(_.jsxs)("div",{className:"cart",children:[Object(_.jsx)("div",{className:"close",onClick:l,children:"[close]"}),Object(_.jsx)("img",{className:"virus",src:de}),Object(_.jsx)("img",{className:"virus",src:de}),Object(_.jsx)("img",{className:"virus",src:de}),Object(_.jsx)("img",{className:"virus",src:de}),Object(_.jsx)("h2",{style:{textDecoration:"underline"},children:"Cart"}),n.cart.length?Object(_.jsxs)("div",{children:[n.cart.map((function(e){return Object(_.jsx)(se,{item:e},e._id)})),Object(_.jsxs)("div",{className:"flex-row space-between",children:[Object(_.jsxs)("strong",{children:["Total: $",function(){var e=0;return n.cart.forEach((function(t){e+=t.price*t.purchaseQuantity})),e.toFixed(2)}()]}),N.loggedIn()?Object(_.jsx)("button",{onClick:function(){var e=[];n.cart.forEach((function(t){for(var n=0;n<t.purchaseQuantity;n++)e.push(t._id)})),console.log(e),c({variables:{product:e}})},children:"Donate"}):Object(_.jsx)("span",{children:"(log in to donate)"})]})]}):Object(_.jsxs)("h3",{children:[Object(_.jsx)("span",{role:"img","aria-label":"shocked",children:"\ud83d\ude32"}),"You haven't added anything to your Cart yet!"]})]}):Object(_.jsx)("div",{className:"cart-closed",onClick:l,children:Object(_.jsx)("span",{role:"img","aria-label":"trash",children:"\ud83d\udd2c"})})};var je=function(e){var t=le(),n=Object(H.a)(t,2),r=n[0],a=n[1],i=e.name,c=e._id,o=e.price,l=r.cart;return Object(_.jsxs)("div",{className:"productMobile",style:{display:"flex",justifyContent:"center",alignItems:"center",margin:"1.8rem"},children:[Object(_.jsx)(h.b,{to:"/products/".concat(c),children:Object(_.jsx)("p",{className:"productMobile",children:i})}),Object(_.jsx)("div",{children:Object(_.jsx)("span",{children:Object(_.jsxs)("strong",{children:["$",o]})})}),Object(_.jsx)("button",{className:"productMobile",onClick:function(){var t=l.find((function(e){return e._id===c}));t?(a({type:te,_id:c,purchaseQuantity:parseInt(t.purchaseQuantity)+1}),G("cart","put",Object(m.a)(Object(m.a)({},t),{},{purchaseQuantity:parseInt(t.purchaseQuantity)+1}))):(a({type:X,product:Object(m.a)(Object(m.a)({},e),{},{purchaseQuantity:1})}),G("cart","put",Object(m.a)(Object(m.a)({},e),{},{purchaseQuantity:1})))},children:"Add to Cart \ud83e\udda0"})]})};var pe,me,he,ye,ge=function(){var e={donateContainerStyle:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",flexWrap:"wrap",backgroundColor:"rgb(169,169,159, 0.9)",width:"auto",height:"auto",borderRadius:"2rem",padding:"1rem"},nameStyle:{fontSize:"1rem",fontWeight:"bolder",padding:".5rem",margin:".5em 4em 1em",backgroundColor:"#429786",borderStyle:"double",borderRadius:".5rem"}},t=le(),n=Object(H.a)(t,2),r=n[0],a=n[1],i=r.currentCategory,c=Object(y.g)().projectId,o=Object(M.b)(F,{variables:{id:c}}),l=o.loading,s=o.data,d=(null===s||void 0===s?void 0:s.project)||{};return Object(u.useEffect)((function(){s?(a({type:J,products:d.product}),d.product.forEach((function(e){G("products","put",e)}))):l||G("products","get").then((function(e){a({type:J,products:e})}))}),[s,l,a]),Object(_.jsxs)("div",{className:"donateConMobile",style:e.donateContainerStyle,children:[Object(_.jsx)("h2",{className:"donateMobile",style:e.nameStyle,children:"Donation Options:"}),r.products.length?Object(_.jsx)("div",{className:"donationOption",style:e.donationOption,children:(i?r.products.filter((function(e){return e.category._id===i})):r.products).map((function(e){return Object(_.jsx)(je,{_id:e._id,name:e.name,price:e.price},e._id)}))}):Object(_.jsx)("h3",{children:"You haven't added any projects yet!"})]})},Oe=(Object(q.a)("pk_test_51LTrSVC8TMpvZpf0sedUXRS4PClo9Ep07xAHUs9jOdhaFLtPAudN632XcO7dTV07DEItOh8uzuYsCq5BSkFJ9h6D00VYZLSbfZ"),function(){var e=Object(y.g)().projectId,t=Object(M.b)(F,{variables:{id:e}}),n=t.loading,r=t.data,a=(null===r||void 0===r?void 0:r.project)||{};return n?Object(_.jsx)("div",{children:"Loading..."}):(console.log(a),Object(_.jsx)("div",{style:{backgroundImage:"url(".concat($,")"),backgroundRepeat:"no-repeat",backgroundSize:"cover"},children:Object(_.jsxs)("div",{style:{height:"85vh",display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(_.jsx)(ge,{}),Object(_.jsx)(be,{})]})}))}),xe=n(88),fe=Object(E.a)(pe||(pe=Object(P.a)(["\n  mutation addUser(\n    $firstName: String!\n    $lastName: String!\n    $email: String!\n    $password: String!\n  ) {\n    addUser(\n      firstName: $firstName\n      lastName: $lastName\n      email: $email\n      password: $password\n    ) {\n      token\n      user {\n        _id\n      }\n    }\n  }\n"]))),ve=Object(E.a)(me||(me=Object(P.a)(["\n  mutation Mutation($product: [ID]!) {\n    addOrder(product: $product) {\n      _id\n      purchaseDate\n      product {\n        _id\n      }\n    }\n  }\n"]))),Se=(Object(E.a)(he||(he=Object(P.a)(["\n  mutation Mutation(\n    $firstName: String\n    $lastName: String\n    $email: String\n    $password: String\n  ) {\n    updateUser(\n      firstName: $firstName\n      lastName: $lastName\n      email: $email\n      password: $password\n    ) {\n      _id\n    }\n  }\n"]))),Object(E.a)(ye||(ye=Object(P.a)(["\n  mutation login($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      token\n      user {\n        _id\n      }\n    }\n  }\n"]))));var Ce=function(e){var t=Object(u.useState)({email:"",password:""}),n=Object(H.a)(t,2),r=n[0],a=n[1],i=Object(xe.a)(fe),c=Object(H.a)(i,1)[0],o=function(){var e=Object(T.a)(Object(R.a)().mark((function e(t){var n,a;return Object(R.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,c({variables:{email:r.email,password:r.password,firstName:r.firstName,lastName:r.lastName}});case 3:n=e.sent,a=n.data.addUser.token,N.login(a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(e){var t=e.target,n=t.name,i=t.value;a(Object(m.a)(Object(m.a)({},r),{},Object(A.a)({},n,i)))},s={mainContainerStyle:{height:"85vh",display:"flex",justifyContent:"center",alignItems:"center"},formContainerStyle:{backgroundColor:"rgb(169,169,159, 0.9)",border:".1rem solid black",height:"60%",width:"40%",display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center",borderRadius:".5rem"},formInputContainerStyle:{margin:"1.2rem",display:"flex",justifyContent:"center",alignItems:"center",fontSize:"1.3rem"},labelStyle:{marginRight:".3rem"},inputStyle:{borderRadius:".5rem",height:"30px",fontSize:"20px"}};return Object(_.jsx)("div",{style:{backgroundImage:"url(".concat($,")"),backgroundRepeat:"no-repeat",backgroundSize:"cover"},children:Object(_.jsx)("div",{style:s.mainContainerStyle,children:Object(_.jsxs)("div",{className:"formMobile",style:s.formContainerStyle,children:[Object(_.jsx)("h1",{children:"Signup"}),Object(_.jsxs)("form",{onSubmit:o,children:[Object(_.jsxs)("div",{className:"inputMobile",style:s.formInputContainerStyle,children:[Object(_.jsx)("label",{htmlFor:"firstName",style:s.labelStyle,children:"First Name:"}),Object(_.jsx)("input",{style:s.inputStyle,placeholder:" First",name:"firstName",type:"firstName",id:"firstName",onChange:l})]}),Object(_.jsxs)("div",{className:"inputMobile",style:s.formInputContainerStyle,children:[Object(_.jsx)("label",{htmlFor:"lastName",style:s.labelStyle,children:"Last Name:"}),Object(_.jsx)("input",{style:s.inputStyle,placeholder:" Last",name:"lastName",type:"lastName",id:"lastName",onChange:l})]}),Object(_.jsxs)("div",{className:"inputMobile",style:s.formInputContainerStyle,children:[Object(_.jsx)("label",{htmlFor:"email",style:s.labelStyle,children:"Email:"}),Object(_.jsx)("input",{style:s.inputStyle,placeholder:" mail@email.com",name:"email",type:"email",id:"email",onChange:l})]}),Object(_.jsxs)("div",{className:"inputMobile",style:s.formInputContainerStyle,children:[Object(_.jsx)("label",{htmlFor:"pwd",style:s.labelStyle,children:"Password:"}),Object(_.jsx)("input",{style:s.inputStyle,placeholder:" ******",name:"password",type:"password",id:"pwd",onChange:l})]}),Object(_.jsx)("div",{style:s.formInputContainerStyle,children:Object(_.jsx)("button",{type:"submit",children:"Submit"})})]}),Object(_.jsx)(h.b,{to:"/login",children:"Already have an account? Login here!"})]})})})};var ke=function(e){var t=Object(u.useState)({email:"",password:""}),n=Object(H.a)(t,2),r=n[0],a=n[1],i=Object(xe.a)(Se),c=Object(H.a)(i,2),o=c[0],l=c[1].error,s=function(){var e=Object(T.a)(Object(R.a)().mark((function e(t){var n,a;return Object(R.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,o({variables:{email:r.email,password:r.password}});case 4:n=e.sent,a=n.data.login.token,N.login(a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),d=function(e){var t=e.target,n=t.name,i=t.value;a(Object(m.a)(Object(m.a)({},r),{},Object(A.a)({},n,i)))},b={mainContainerStyle:{height:"85vh",display:"flex",justifyContent:"center",alignItems:"center"},formContainerStyle:{backgroundColor:"rgb(169,169,159, 0.9)",border:".1rem solid black",height:"50%",width:"40%",display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center",borderRadius:".5rem"},formInputContainerStyle:{margin:"1.2rem",display:"flex",justifyContent:"center",alignItems:"center",fontSize:"1.3rem"},labelStyle:{marginRight:".3rem"},inputStyle:{borderRadius:".5rem",height:"30px",fontSize:"20px"}};return Object(_.jsx)("div",{style:{backgroundImage:"url(".concat($,")"),backgroundRepeat:"no-repeat",backgroundSize:"cover"},children:Object(_.jsx)("div",{style:b.mainContainerStyle,children:Object(_.jsxs)("div",{className:"formMobile",style:b.formContainerStyle,children:[Object(_.jsx)("h1",{children:"Login"}),Object(_.jsxs)("form",{onSubmit:s,style:b.formStyle,children:[Object(_.jsxs)("div",{className:"inputMobile",style:b.formInputContainerStyle,children:[Object(_.jsx)("label",{htmlFor:"email",style:b.labelStyle,children:"Email address:"}),Object(_.jsx)("input",{style:b.inputStyle,placeholder:" mail@email.com",name:"email",type:"email",id:"email",onChange:d})]}),Object(_.jsxs)("div",{className:"inputMobile",style:b.formInputContainerStyle,children:[Object(_.jsx)("label",{htmlFor:"pwd",style:b.labelStyle,children:"Password:"}),Object(_.jsx)("input",{style:b.inputStyle,placeholder:" ******",name:"password",type:"password",id:"pwd",onChange:d})]}),l?Object(_.jsx)("div",{style:b.formInputContainerStyle,children:Object(_.jsx)("p",{children:"The provided credentials are incorrect"})}):null,Object(_.jsx)("div",{style:b.formInputContainerStyle,children:Object(_.jsx)("button",{type:"submit",children:"Submit"})})]}),Object(_.jsx)(h.b,{to:"/signup",children:"Don't have any account yet? Signup here!"})]})})})};var we=function(){var e=Object(xe.a)(ve),t=Object(H.a)(e,1)[0];return Object(u.useEffect)((function(){function e(){return(e=Object(T.a)(Object(R.a)().mark((function e(){var n,r,a,i,c;return Object(R.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G("cart","get");case 2:if(n=e.sent,r=n.map((function(e){return e._id})),console.log(r),!r.length){e.next=14;break}return e.next=8,t({variables:{product:r}});case 8:a=e.sent,i=a.data,console.log(i),c=i.addOrder.product,console.log("My product data:",c),c.forEach((function(e){G("cart","delete",e)}));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),Object(_.jsx)("div",{style:{backgroundImage:"url(".concat($,")"),backgroundRepeat:"no-repeat",backgroundSize:"cover",position:"fixed",minWidth:"100%",minHeight:"100%"},children:Object(_.jsxs)("div",{style:{height:"85vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",color:"white"},children:[Object(_.jsx)("h1",{children:"Thank you for your donation!"}),Object(_.jsx)("h4",{children:"See your updated ameobas!"}),Object(_.jsx)(h.b,{to:"/profile",children:"My Profile"}),Object(_.jsx)("h4",{children:"Or"}),Object(_.jsx)(h.b,{to:"/",children:"Go Back Home"})]})})},Ie=Object(g.a)({uri:"/graphql"}),Ne=Object(v.a)((function(e,t){var n=t.headers,r=localStorage.getItem("id_token");return{headers:Object(m.a)(Object(m.a)({},n),{},{authorization:r?"Bearer ".concat(r):""})}})),_e=new O.a({link:Ne.concat(Ie),cache:new x.a});var De=function(){return Object(_.jsx)(f.a,{client:_e,children:Object(_.jsx)(h.a,{children:Object(_.jsx)("div",{children:Object(_.jsxs)(oe,{children:[Object(_.jsx)(D,{}),Object(_.jsxs)(y.c,{children:[Object(_.jsx)(y.a,{exact:!0,path:"/",element:Object(_.jsx)(B,{})}),Object(_.jsx)(y.a,{path:"/profile",element:Object(_.jsx)(U,{})}),Object(_.jsx)(y.a,{path:"/projectPage/:projectId",element:Object(_.jsx)(W,{})}),Object(_.jsx)(y.a,{path:"/donate/:projectId",element:Object(_.jsx)(Oe,{})}),Object(_.jsx)(y.a,{path:"/success",element:Object(_.jsx)(we,{})}),Object(_.jsx)(y.a,{path:"/signup",element:Object(_.jsx)(Ce,{})}),Object(_.jsx)(y.a,{path:"/login",element:Object(_.jsx)(ke,{})})]})]})})})})};p.a.render(Object(_.jsx)(b.a.StrictMode,{children:Object(_.jsx)(De,{})}),document.getElementById("root"))}},[[80,1,2]]]);
//# sourceMappingURL=main.6c053105.chunk.js.map